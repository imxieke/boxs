[Unit]
Description=Ollama User Service
Wants=network-online.target
After=network.target network-online.target

[Service]
ExecStart=ollama serve
Environment="HOME=${HOME}/.ollama"
Environment="OLLAMA_MODELS=${HOME}/.ollama"
WorkingDirectory="${HOME}/.ollama"
Restart=on-failure
RestartSec=3
RestartPreventExitStatus=1
Type=simple
PrivateTmp=yes
ProtectSystem=full
ProtectHome=yes

[Install]
WantedBy=multi-user.target